{"version":3,"sources":["../src/components/toast/toast.tsx"],"names":[],"mappings":"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","file":"components/toast/toast.js","sourcesContent":["/*\n * Copyright 2016 Palantir Technologies, Inc. All rights reserved.\n * Licensed under the BSD-3 License as modified (the “License”); you may obtain a copy\n * of the license at https://github.com/palantir/blueprint/blob/master/LICENSE\n * and https://github.com/palantir/blueprint/blob/master/PATENTS\n */\n\nimport * as classNames from \"classnames\";\nimport * as PureRender from \"pure-render-decorator\";\nimport * as React from \"react\";\n\nimport { AbstractComponent } from \"../../common/abstractComponent\";\nimport * as Classes from \"../../common/classes\";\nimport { IActionProps, IIntentProps, IProps } from \"../../common/props\";\nimport { safeInvoke } from \"../../common/utils\";\nimport { Button } from \"../button/buttons\";\n\nexport interface IToastProps extends IProps, IIntentProps {\n    /**\n     * Action to display in a minimal button. The toast is dismissed automatically when the\n     * user clicks the action button. Note that the `intent` prop is ignored (the action button\n     * cannot have its own intent color that might conflict with the toast's intent). Omit this\n     * prop to omit the action button.\n     */\n    action?: IActionProps;\n\n    /** Name of icon to appear before message. Specify only the part of the name after `pt-icon-`. */\n    iconName?: string;\n\n    /** Message to display in the body of the toast. */\n    message: string | JSX.Element;\n\n    /**\n     * Callback invoked when the toast is dismissed, either by the user or by the timeout.\n     * The value of the argument indicates whether the toast was closed because the timeout expired.\n     */\n    onDismiss?: (didTimeoutExpire: boolean) => void;\n\n    /**\n     * Milliseconds to wait before automatically dismissing toast.\n     * Providing a value <= 0 will disable the timeout (this is discouraged).\n     * @default 5000\n     */\n    timeout?: number;\n}\n\n@PureRender\nexport class Toast extends AbstractComponent<IToastProps, {}> {\n    public static defaultProps: IToastProps = {\n        className: \"\",\n        message: \"\",\n        timeout: 5000,\n    };\n\n    public displayName = \"Blueprint.Toast\";\n\n    public render(): JSX.Element {\n        const { className, intent, message } = this.props;\n        return (\n            <div\n                className={classNames(Classes.TOAST, Classes.intentClass(intent), className)}\n                onBlur={this.startTimeout}\n                onFocus={this.clearTimeouts}\n                onMouseEnter={this.clearTimeouts}\n                onMouseLeave={this.startTimeout}\n            >\n                {this.maybeRenderIcon()}\n                <span className={Classes.TOAST_MESSAGE}>{message}</span>\n                <div className={classNames(Classes.BUTTON_GROUP, Classes.MINIMAL)}>\n                    {this.maybeRenderActionButton()}\n                    <Button iconName=\"cross\" onClick={this.handleCloseClick} />\n                </div>\n            </div>\n        );\n    }\n\n    public componentDidMount() {\n        this.startTimeout();\n    }\n\n    public componentDidUpdate(prevProps: IToastProps) {\n        if (prevProps.timeout <= 0 && this.props.timeout > 0) {\n            this.startTimeout();\n        } else if (prevProps.timeout > 0 && this.props.timeout <= 0) {\n            this.clearTimeouts();\n        }\n    }\n\n    public componentWillUnmount() {\n        this.clearTimeouts();\n    }\n\n    private maybeRenderActionButton() {\n        const { action } = this.props;\n        return action == null ? undefined : <Button {...action} intent={null} onClick={this.handleActionClick} />;\n    }\n\n    private maybeRenderIcon() {\n        const { iconName } = this.props;\n        if (iconName == null) {\n            return undefined;\n        } else {\n            return <span className={classNames(Classes.ICON_STANDARD, Classes.iconClass(iconName))} />;\n        }\n    }\n\n    private handleActionClick = (e: React.MouseEvent<HTMLButtonElement>) => {\n        safeInvoke(this.props.action.onClick, e);\n        this.triggerDismiss(false);\n    }\n\n    private handleCloseClick = () => this.triggerDismiss(false);\n\n    private triggerDismiss(didTimeoutExpire: boolean) {\n        safeInvoke(this.props.onDismiss, didTimeoutExpire);\n        this.clearTimeouts();\n    }\n\n    private startTimeout = () => {\n        if (this.props.timeout > 0) {\n            this.setTimeout(() => this.triggerDismiss(true), this.props.timeout);\n        }\n    }\n}\n\nexport const ToastFactory = React.createFactory(Toast);\n"]}